import sys;symbol2points={"A":1,"X":1,"B":2,"Y":2,"C":3,"Z":3};result2points={"l":0,"d":3,"w":6};pointsT2result={(1,1):"d",(1,2):"w",(1,3):"l",(2,1):"l",(2,2):"d",(2,3):"w",(3,1):"w",(3,2):"l",(3,3):"d"};symbol2result={"X": "l","Y":"d","Z":"w"};pointsResult2points={(1,"l"):3,(1,"d"):1,(1,"w"):2,(2,"l"):1,(2,"d"):2,(2,"w"):3,(3,"l"):2,(3,"d"):3,(3,"w"):1};inputFile=sys.argv[1]if len(sys.argv)>=2 else"example.txt";inputData=[];[(symbols:=line.replace("\n","").split(" "),inputData.append([symbol2points[symbols[0]],symbol2points[symbols[1]]])) for line in open(inputFile,"r").readlines()];totalPoints=0;[(me:=_round[1],totalPoints:=totalPoints+me+result2points[pointsT2result[(_round[0],me)]])for _round in inputData];print("Part 1:",totalPoints);inputData=[];[(symbols:=line.replace("\n","").split(" "),inputData.append([symbol2points[symbols[0]],symbol2result[symbols[1]]]))for line in open(inputFile,"r").readlines()];totalPoints=0;[(op:=_round[0],points:=pointsResult2points[(op,_round[1])],result:=pointsT2result[(op,points)],totalPoints:=totalPoints+points+result2points[result])for _round in inputData];print("Part 2:",totalPoints)
# Minimized version:
import sys;a={"A":1,"X":1,"B":2,"Y":2,"C":3,"Z":3};b={"l":0,"d":3,"w":6};c={(1,1):"d",(1,2):"w",(1,3):"l",(2,1):"l",(2,2):"d",(2,3):"w",(3,1):"w",(3,2):"l",(3,3):"d"};d={"X":"l","Y":"d","Z":"w"};h={(1,"l"):3,(1,"d"):1,(1,"w"):2,(2,"l"):1,(2,"d"):2,(2,"w"):3,(3,"l"):2,(3,"d"):3,(3,"w"):1};i=sys.argv[1]if len(sys.argv)>=2 else"example.txt";j=[];[(k:=l.replace("\n","").split(" "),j.append([a[k[0]],a[k[1]]]))for l in open(i,"r").readlines()];m=0;[(n:=o[1],m:=m+n+b[c[(o[0],n)]])for o in j];print("Part 1:",m);j=[];[(k:=l.replace("\n","").split(" "),j.append([a[k[0]],d[k[1]]]))for l in open(i,"r").readlines()];m=0;[(op:=o[0],p:=h[(op,o[1])],result:=c[(op,p)],m:=m+p+b[result])for o in j];print("Part 2:",m)
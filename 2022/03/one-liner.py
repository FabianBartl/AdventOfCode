import sys, string;char2priority = lambda char: string.ascii_letters.index(char) + 1;inputFile = sys.argv[1] if len(sys.argv) >= 2 else "example.txt";inputData1 = [];inputData2 = [];[ ((line := _line.strip(), halfLenght := len(line) // 2, inputData1.append([ set(line[halfLenght:]), set(line[:halfLenght]) ]), inputData2.append(set(line)))) for _line in open(inputFile).readlines() ];totalPriority2 = totalPriority1 = 0;[ (char1 := min(inputData1[index][0] & inputData1[index][1]), priority1 := char2priority(char1), totalPriority1 := totalPriority1 + priority1, 0 if index % 3 else (char2 := min(rucksack & inputData2[index+1] & inputData2[index+2]), priority2 := char2priority(char2), totalPriority2 := totalPriority2 + priority2)) for index, rucksack in enumerate(inputData2) ]; print("Part 1:", totalPriority1, "\nPart 2:", totalPriority2)
# Minimized version:
import sys,string;a=lambda c:string.ascii_letters.index(c)+1;b=sys.argv[1]if len(sys.argv)>=2 else"example.txt";c=[];d=[];[((e:=f.strip(),c.append([set(e[(g:=len(e)//2):]),set(e[:g])]),d.append(set(e))))for f in open(b).readlines()];h=i=0;[(j:=min(c[o][0]&c[o][1]),n:=a(j),i:=i+n,0 if o%3 else(k:=min(l&d[o+1]&d[o+2]),m:=a(k),h:=h+m))for o,l in enumerate(d)];print("Part 1:",i,"\nPart 2:",h)